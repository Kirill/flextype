title: Create new account
icon:
  set: bootstrap
  name: file-text
blocks:
  - type: Container
    properties:
      breakpoint: medium
    blocks:
      - type: Row
        blocks:
          - type: Column
            blocks:
              - type: Form
                properties:
                  name: form_account_add
                  process:
                    fields:
                      - name: id
                        properties:
                          type: string
                      - name: roles
                        properties:
                          type: string
                      - name: state
                        properties:
                          type: string
                      - name: password
                        properties:
                          type: string
                    messages: 
                      error: "{{ __('admin_message_entries_api_token_was_not_updated') }}"
                      success: "{{ __('admin_message_entries_api_token_updated') }}"
                    redirect:
                      route: "admin.accounts.edit"
                      args:
                        id: "{{ query.id }}"
                blocks:
                  - type: Row
                    properties:
                      class: mt-4 mb-4
                    blocks:
                      - type: Column
                        properties:
                          size: 6/12
                        blocks:
                          - type: Heading
                            properties:
                              size: large
                              id: title
                              value: "{{ __('accounts_admin_create_new_account') }}"
                      - type: Column
                        properties:
                          size: 6/12
                          class: d-flex align-items-center justify-content-end text-end 
                        blocks:
                          - type: InputSubmit
                            properties:
                              type: primary
                              value: "{{ __('admin_create') }}"
                  - type: Row
                    blocks:
                      - type: Column
                        properties:
                          size: 3/12
                        blocks:
                          - type: InputEmail
                            properties:
                              name: id
                              label:
                                value: "{{ __('accounts_admin_email') }}"
                              validation:
                                required: true
                                pattern: '[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$'
                      - type: Column
                        properties:
                          size: 3/12
                        blocks:
                          - type: InputPassword
                            properties:
                              name: password
                              label:
                                value: "{{ __('accounts_admin_password') }}"
                              validation:
                                required: true 
                                pattern: '(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}' 
                      - type: Column
                        properties:
                          size: 3/12
                        blocks:
                          - type: Select2
                            properties:
                              name: state
                              value: enabled
                              items: 
                                enabled: "{{ __('admin_enabled') }}"
                                disabled: "{{ __('admin_disabled') }}"
                              label:
                                value: "{{ __('admin_state') }}"
                      - type: Column
                        properties:
                          size: 3/12
                        blocks:
                          - type: Tagify
                            properties:
                              name: roles
                              label:
                                value: "{{ __('accounts_admin_roles') }}"