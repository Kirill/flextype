title: Account
icon:
  set: bootstrap
  name: people-circle
admin:
  entries:
    accounts:
      account:
        item: 
          emitter:
            addListener:
              - name: onAdminThemeTail
                properties:
                  value: |
                    <form id="delete-entry-id-{{ entry.id }}" action="{{ urlFor('admin.entries.deleteProcess') }}" method="POST" style="display: none;">
                        {{ csrf() }}
                        <input type="hidden" name="id" value="{{ entry.id }}">
                        <input type="hidden" name="id-current" value="{{ query.id }}">
                    </form>
                    <form id="duplicate-entry-id-{{ entry.id }}" action="{{ urlFor('admin.entries.duplicateProcess') }}" method="POST" style="display: none;">
                        {{ csrf() }}
                        <input type="hidden" name="id" value="{{ entry.id }}">
                    </form>
          blocks:
            - type: Row
              properties:
                class: "m-0"
              blocks:
                - type: Column
                  properties:
                    size: 12
                    class: card
                  blocks:
                    - type: Row
                      properties:
                        class: d-flex align-items-center row-hover
                      blocks:
                        - type: Column
                          properties:
                            size: 1/12
                            class: p-2 text-center
                          blocks: 
                            - type: Display
                              properties:
                                class: 'asd'
                                value: "{{ icon('person-circle', 'bootstrap') }}"
                        - type: Column
                          properties:
                            size: 10/12
                          blocks:
                            - type: Row
                              properties: 
                                class: gy-2
                              blocks:
                                - type: Column
                                  properties:
                                    size: 5/12
                                    class: p-2 px-3
                                  blocks:
                                    - type: Display
                                      properties:
                                        wrapper: div
                                        style:
                                          opacity: .4
                                        value: "{{ __('Email') }}"
                                    - type: Display
                                      properties:
                                        wrapper: div
                                        value: "{{ strings(entry.id).lastSegment('/') }}"
                        - type: Column
                          properties:
                            size: 1/12
                            class: p-2 text-center
                          blocks:
                            - type: ActionsDropdown
                              properties:
                                items:
                                  - href: "{{ urlFor('admin.entries.index') }}?id={{ entry.id }}"
                                    value: "{{ __('View') }}"
                                    visible: "{{ entry.has_children }}"
                                    icon: 
                                      set: bootstrap
                                      name: eye
                                  - href: "{{ urlFor('admin.entries.edit') }}?id={{ entry.id }}"
                                    value: "{{ __('admin_edit') }}"
                                    icon: 
                                      set: bootstrap
                                      name: pencil
                                  - href: "{{ urlFor('admin.entries.add') }}?id={{ entry.id }}"
                                    value: "{{ __('Add') }}"
                                    icon: 
                                      set: bootstrap
                                      name: plus-circle
                                  - href: "#"
                                    value: "{{ __('admin_duplicate') }}"
                                    events:
                                      onclick: "event.preventDefault(); document.getElementById('duplicate-content-id-{{ entry.id }}').submit();"
                                    icon: 
                                      set: bootstrap
                                      name: files
                                  - href: "{{ urlFor('admin.entries.rename') }}?id={{ entry.id }}"
                                    value: "{{ __('admin_rename') }}"
                                    icon: 
                                      set: bootstrap
                                      name: file-font
                                  - href: "{{ urlFor('admin.entries.move') }}?id={{ entry.id }}"
                                    value: "{{ __('admin_move') }}"
                                    icon: 
                                      set: bootstrap
                                      name: arrow-right-square
                                  - href: "#"
                                    events:
                                      onclick: "confirmationEntryDelete(event, '{{ entry.id }}');"
                                    value: "{{ __('admin_delete') }}"
                                    icon: 
                                      set: bootstrap
                                      name: trash
        edit: 
          blocks:
            - type: Container
              properties:
                breakpoint: medium
              blocks:
                - type: Row
                  blocks:
                    - type: Column
                      blocks:
                        - type: Form
                          properties:
                            name: form_account_add
                            process:
                              fields:
                                - name: id
                                  properties:
                                    type: string
                                - name: roles
                                  properties:
                                    type: string
                                - name: state
                                  properties:
                                    type: string
                                - name: password
                                  properties:
                                    type: string
                              messages: 
                                error: "{{ __('admin_message_entries_api_token_was_not_updated') }}"
                                success: "{{ __('admin_message_entries_api_token_updated') }}"
                              redirect:
                                route: "admin.accounts.edit"
                                args:
                                  id: "{{ query.id }}"
                          blocks:
                            - type: Row
                              properties:
                                class: mt-4 mb-4
                              blocks:
                                - type: Column
                                  properties:
                                    size: 6/12
                                  blocks:
                                    - type: Heading
                                      properties:
                                        size: large
                                        id: title
                                        value: "{{ __('accounts_admin_create_new_account') }}"
                                - type: Column
                                  properties:
                                    size: 6/12
                                    class: d-flex align-items-center justify-content-end text-end 
                                  blocks:
                                    - type: InputSubmit
                                      properties:
                                        type: primary
                                        value: "{{ __('admin_create') }}"
                            - type: Row
                              blocks:
                                - type: Column
                                  properties:
                                    size: 3/12
                                  blocks:
                                    - type: InputEmail
                                      properties:
                                        name: id
                                        label:
                                          value: "{{ __('accounts_admin_email') }}"
                                        validation:
                                          required: true
                                          pattern: '[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$'
                                - type: Column
                                  properties:
                                    size: 3/12
                                  blocks:
                                    - type: InputPassword
                                      properties:
                                        name: password
                                        label:
                                          value: "{{ __('accounts_admin_password') }}"
                                        validation:
                                          required: true 
                                          pattern: '(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}' 
                                - type: Column
                                  properties:
                                    size: 3/12
                                  blocks:
                                    - type: Select2
                                      properties:
                                        name: state
                                        value: enabled
                                        items: 
                                          enabled: "{{ __('admin_enabled') }}"
                                          disabled: "{{ __('admin_disabled') }}"
                                        label:
                                          value: "{{ __('admin_state') }}"
                                - type: Column
                                  properties:
                                    size: 3/12
                                  blocks:
                                    - type: Tagify
                                      properties:
                                        name: roles
                                        label:
                                          value: "{{ __('accounts_admin_roles') }}"